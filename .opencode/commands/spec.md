---
description: ç®¡ç† Spec ä¼˜å…ˆå¼€å‘æµç¨‹ã€‚ç”¨äºåˆ›å»ºæ–°åŠŸèƒ½ specã€åŒæ­¥å·²å®ç°åŠŸèƒ½æ–‡æ¡£ã€ç»§ç»­å¼€å‘æˆ–ç”Ÿæˆæ–‡æ¡£ã€‚å½“ç”¨æˆ·è¯´"åˆ›å»º spec"ã€"æ–°å»º spec"ã€"åŒæ­¥ spec"ã€"ç»§ç»­å¼€å‘"ã€"ç”Ÿæˆæ–‡æ¡£"æ—¶ä½¿ç”¨ã€‚
argument-hint: '[action] <feature-name> [--template] [--status]'
---

# Spec å‘½ä»¤

ç®¡ç† Spec ä¼˜å…ˆå¼€å‘æµç¨‹çš„å‘½ä»¤è¡Œå·¥å…·ã€‚

## ä¸Šä¸‹æ–‡

- **å½“å‰åˆ†æ”¯:** !`git branch --show-current`
- **Specs ç›®å½•:** !`ls -d specs/*/ 2>/dev/null | head -10 || echo "æš‚æ—  specs"`

## ç”¨æˆ·æŒ‡ä»¤

$ARGUMENTS

**é‡è¦ï¼š** å¦‚æœç”¨æˆ·æä¾›äº†å…·ä½“æŒ‡ä»¤ï¼Œä¼˜å…ˆéµå¾ªç”¨æˆ·æŒ‡ä»¤è€Œéé»˜è®¤è¡Œä¸ºã€‚

## å‘½ä»¤æ“ä½œ

| æ“ä½œ       | è¯´æ˜                                     | ç¤ºä¾‹                            |
| ---------- | ---------------------------------------- | ------------------------------- |
| `new`      | åˆ›å»ºæ–°çš„åŠŸèƒ½ spec                        | `/spec new user-profile`        |
| `sync`     | åŒæ­¥å·²å®ç°åŠŸèƒ½åˆ° spec æ–‡æ¡£               | `/spec sync nestjs-better-auth` |
| `continue` | ç»§ç»­å¼€å‘æŸåŠŸèƒ½ï¼ˆè¯»å– implementation.mdï¼‰ | `/spec continue user-profile`   |
| `docs`     | ç”Ÿæˆå¸¦æˆªå›¾çš„æ–‡æ¡£                         | `/spec docs user-profile`       |
| `status`   | æŸ¥çœ‹åŠŸèƒ½å®ç°çŠ¶æ€                         | `/spec status user-profile`     |
| `list`     | åˆ—å‡ºæ‰€æœ‰ spec åŠå…¶çŠ¶æ€                   | `/spec list`                    |

## è§£æå‚æ•°

ä» `$ARGUMENTS` ä¸­è§£æï¼š

1. **action**: ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œå¯é€‰å€¼ä¸º `new`ã€`sync`ã€`continue`ã€`docs`ã€`status`ã€`list`
2. **feature-name**: ç¬¬äºŒä¸ªå‚æ•°ï¼ŒåŠŸèƒ½åç§°
3. **é€‰é¡¹**:
   - `--template`: ä½¿ç”¨ç‰¹å®šæ¨¡æ¿
   - `--status`: è®¾ç½®åˆå§‹çŠ¶æ€

å¦‚æœæœªæä¾› actionï¼Œæ ¹æ®ä¸Šä¸‹æ–‡æ¨æ–­ï¼š

- æåˆ°"åˆ›å»º"ã€"æ–°å»º"ã€"å¼€å§‹" â†’ `new`
- æåˆ°"åŒæ­¥"ã€"æ›´æ–°æ–‡æ¡£"ã€"è¡¥å…¨" â†’ `sync`
- æåˆ°"ç»§ç»­"ã€"æ¢å¤"ã€"ç»§ç»­å¼€å‘" â†’ `continue`
- æåˆ°"æ–‡æ¡£"ã€"æˆªå›¾"ã€"ç”Ÿæˆæ–‡æ¡£" â†’ `docs`
- æåˆ°"çŠ¶æ€"ã€"è¿›åº¦" â†’ `status`
- å…¶ä»– â†’ `list`

---

## æ“ä½œè¯¦æƒ…

### 1. new - åˆ›å»ºæ–°åŠŸèƒ½ Spec

**æµç¨‹ï¼š**

1. **æ£€æŸ¥ specs ç›®å½•æ˜¯å¦å­˜åœ¨**ï¼Œä¸å­˜åœ¨åˆ™åˆ›å»º
2. **æ£€æŸ¥åŠŸèƒ½æ˜¯å¦å·²å­˜åœ¨**ï¼š`specs/{feature-name}/design.md`
3. **å¤åˆ¶æ¨¡æ¿**ï¼š
   ```bash
   cp -r specs/_templates specs/{feature-name}
   ```
4. **æ›´æ–° AGENTS.md**ï¼šå°† `{åŠŸèƒ½åç§°}` æ›¿æ¢ä¸ºå®é™…åç§°
5. **å¼•å¯¼ç”¨æˆ·å¡«å†™ design.md**ï¼š
   - è¯¢é—®åŠŸèƒ½æè¿°
   - è¯¢é—®è¦è§£å†³çš„é—®é¢˜
   - è¯¢é—®ç”¨æˆ·æ•…äº‹
6. **åˆå§‹åŒ– implementation.md**ï¼š
   - çŠ¶æ€è®¾ä¸º `æœªå¼€å§‹`
   - å¡«å†™ä¸‹ä¸€æ­¥è®¡åˆ’

**è¾“å‡ºç¤ºä¾‹ï¼š**

```
[spec] åˆ›å»ºæ–°åŠŸèƒ½ spec: user-profile
[spec] ç›®å½•å·²åˆ›å»º: specs/user-profile/
[spec] è¯·æè¿°è¯¥åŠŸèƒ½è¦å®ç°ä»€ä¹ˆï¼Ÿ
```

---

### 2. sync - åŒæ­¥å·²å®ç°åŠŸèƒ½

**æµç¨‹ï¼š**

1. **æ£€æŸ¥åŠŸèƒ½ç›®å½•**ï¼š`specs/{feature-name}/`
2. **å¦‚æœç›®å½•ä¸å­˜åœ¨**ï¼ŒåŸºäºä»£ç åˆ›å»ºï¼š
   - æ‰«æç›¸å…³ä»£ç ç›®å½•
   - åˆ†æå®ç°å†…å®¹
   - åˆ›å»º spec æ–‡æ¡£
3. **å¦‚æœç›®å½•å­˜åœ¨**ï¼Œæ›´æ–°ï¼š
   - è¯»å–ç°æœ‰ design.md
   - æ‰«æä»£ç å˜æ›´
   - æ›´æ–° implementation.md çš„å·²å®Œæˆé¡¹
   - è®°å½•æ–°çš„å†³ç­–åˆ° decisions.md

**ä»£ç åˆ†æè¦ç‚¹ï¼š**

- ç›®å½•ç»“æ„å’Œæ–‡ä»¶åˆ—è¡¨
- å¯¼å‡ºçš„å…¬å…± API
- ç±»/å‡½æ•°çš„ TSDoc æ³¨é‡Š
- ä¾èµ–å…³ç³»

**è¾“å‡ºç¤ºä¾‹ï¼š**

```
[spec] åŒæ­¥åŠŸèƒ½: nestjs-better-auth
[spec] åˆ†æä»£ç : libs/auth/nestjs-better-auth/src/
[spec] å‘ç° 8 ä¸ªæºæ–‡ä»¶
[spec] æ›´æ–° implementation.md:
  - [x] auth-module.ts
  - [x] auth-guard.ts
  - [x] decorators.ts
  ...
[spec] åŒæ­¥å®Œæˆ
```

---

### 3. continue - ç»§ç»­å¼€å‘

**æµç¨‹ï¼š**

1. **è¯»å–** `specs/{feature-name}/implementation.md`
2. **æ˜¾ç¤ºå½“å‰çŠ¶æ€**ï¼š
   - å·²å®Œæˆé¡¹
   - è¿›è¡Œä¸­é¡¹
   - é˜»å¡é¡¹
   - ä¸‹ä¸€æ­¥
3. **è¯»å–ä¼šè¯å¤‡æ³¨**ï¼Œäº†è§£ä¸Šä¸‹æ–‡
4. **è¯¢é—®ç”¨æˆ·**æ˜¯å¦ç»§ç»­ä¸‹ä¸€æ­¥

**è¾“å‡ºç¤ºä¾‹ï¼š**

```
[spec] ç»§ç»­å¼€å‘: user-profile
[spec] çŠ¶æ€: è¿›è¡Œä¸­
[spec]
[spec] å·²å®Œæˆ:
  - ç”¨æˆ·èµ„æ–™æ•°æ®æ¨¡å‹
  - API è·¯ç”±è®¾è®¡
[spec]
[spec] è¿›è¡Œä¸­:
  - å‰ç«¯ç»„ä»¶å¼€å‘
[spec]
[spec] ä¸‹ä¸€æ­¥:
  1. å®Œæˆç”¨æˆ·èµ„æ–™è¡¨å•ç»„ä»¶
  2. æ·»åŠ å¤´åƒä¸Šä¼ åŠŸèƒ½
[spec]
[spec] æ˜¯å¦ç»§ç»­ä¸‹ä¸€æ­¥ï¼Ÿ(y/n)
```

---

### 4. docs - ç”Ÿæˆæ–‡æ¡£

**æµç¨‹ï¼š**

1. **æ£€æŸ¥åŠŸèƒ½æ˜¯å¦å¯è®¿é—®**ï¼ˆéœ€è¦è¿è¡Œä¸­çš„åº”ç”¨ï¼‰
2. **æ‰“å¼€æµè§ˆå™¨**åˆ°åŠŸèƒ½é¡µé¢
3. **é‡‡é›†æˆªå›¾**ï¼š
   - å…³é”® UI çŠ¶æ€
   - ä¸åŒå±å¹•å°ºå¯¸ï¼ˆå¯é€‰ï¼‰
   - é”™è¯¯çŠ¶æ€ï¼ˆå¯é€‰ï¼‰
4. **ä¿å­˜æˆªå›¾**åˆ° `specs/{feature}/docs/screenshots/`
5. **åˆ›å»º/æ›´æ–°** `specs/{feature}/docs/README.md`

**æ–‡æ¡£ç»“æ„ï¼š**

```markdown
# {åŠŸèƒ½åç§°} æ–‡æ¡£

## åŠŸèƒ½æ¦‚è§ˆ

{æˆªå›¾: æ¦‚è§ˆ}

## ä½¿ç”¨æ–¹å¼

### æ­¥éª¤ 1: {æ“ä½œ}

{æˆªå›¾: æ­¥éª¤ 1}

### æ­¥éª¤ 2: {æ“ä½œ}

{æˆªå›¾: æ­¥éª¤ 2}

## é…ç½®é€‰é¡¹

## å¸¸è§ç”¨ä¾‹
```

**è¾“å‡ºç¤ºä¾‹ï¼š**

```
[spec] ç”Ÿæˆæ–‡æ¡£: user-profile
[spec] å¯åŠ¨åº”ç”¨...
[spec] æ‰“å¼€æµè§ˆå™¨: http://localhost:3000/profile
[spec] é‡‡é›†æˆªå›¾:
  - profile-overview.png
  - profile-edit.png
  - profile-avatar.png
[spec] æ–‡æ¡£å·²ç”Ÿæˆ: specs/user-profile/docs/README.md
```

---

### 5. status - æŸ¥çœ‹çŠ¶æ€

**æµç¨‹ï¼š**

1. **è¯»å–** `specs/{feature-name}/implementation.md`
2. **æ˜¾ç¤º**ï¼š
   - å½“å‰çŠ¶æ€
   - å®Œæˆè¿›åº¦ï¼ˆå·²å®Œæˆ/æ€»æ•°ï¼‰
   - é˜»å¡é¡¹ï¼ˆå¦‚æœ‰ï¼‰
   - æœ€è¿‘æ›´æ–°ï¼ˆä» git log æˆ–ä¼šè¯å¤‡æ³¨ï¼‰

**è¾“å‡ºç¤ºä¾‹ï¼š**

```
[spec] çŠ¶æ€: user-profile
[spec]
[spec] å½“å‰çŠ¶æ€: è¿›è¡Œä¸­
[spec] å®Œæˆè¿›åº¦: 5/8 (62%)
[spec]
[spec] å·²å®Œæˆ:
  âœ… ç”¨æˆ·èµ„æ–™æ•°æ®æ¨¡å‹
  âœ… API è·¯ç”±è®¾è®¡
  âœ… å‰ç«¯ç»„ä»¶å¼€å‘
  âœ… è¡¨å•éªŒè¯
  âœ… å•å…ƒæµ‹è¯•
[spec]
[spec] è¿›è¡Œä¸­:
  ğŸ”„ é›†æˆæµ‹è¯•
[spec]
[spec] å¾…å¼€å§‹:
  â¬œ E2E æµ‹è¯•
  â¬œ æ–‡æ¡£ç¼–å†™
```

---

### 6. list - åˆ—å‡ºæ‰€æœ‰ Spec

**æµç¨‹ï¼š**

1. **æ‰«æ** `specs/` ç›®å½•
2. **è¿‡æ»¤**å‡ºåŠŸèƒ½ç›®å½•ï¼ˆæ’é™¤ `_templates`ï¼‰
3. **è¯»å–æ¯ä¸ª** `implementation.md` çš„çŠ¶æ€
4. **è¡¨æ ¼è¾“å‡º**

**è¾“å‡ºç¤ºä¾‹ï¼š**

```
[spec] æ‰€æœ‰åŠŸèƒ½ spec:
[spec]
| åŠŸèƒ½ | çŠ¶æ€ | å®Œæˆåº¦ | æœ€åæ›´æ–° |
|------|------|--------|----------|
| nestjs-better-auth | âœ… å·²å®Œæˆ | 100% | 2024-03-02 |
| user-profile | ğŸ”„ è¿›è¡Œä¸­ | 62% | 2024-03-01 |
| payment-integration | â¬œ æœªå¼€å§‹ | 0% | - |
```

---

## æ¨¡æ¿å˜é‡

åˆ›å»ºæ–° spec æ—¶ï¼Œæ›¿æ¢ä»¥ä¸‹æ¨¡æ¿å˜é‡ï¼š

| å˜é‡                     | æ›¿æ¢ä¸º                 |
| ------------------------ | ---------------------- |
| `{åŠŸèƒ½åç§°}`             | ç”¨æˆ·æä¾›çš„åŠŸèƒ½åç§°     |
| `{feature}`              | åŠŸèƒ½åç§°ï¼ˆkebab-caseï¼‰ |
| `{component}`            | ç›¸å…³ç»„ä»¶åç§°           |
| `{relevant directories}` | ç›¸å…³ä»£ç ç›®å½•           |

---

## Spec æ–‡ä»¶ç»“æ„

```
specs/{feature-name}/
â”œâ”€â”€ AGENTS.md           # AI åŠ©æ‰‹æŒ‡å—
â”œâ”€â”€ design.md           # æŠ€æœ¯è®¾è®¡ï¼ˆSource of truthï¼‰
â”œâ”€â”€ implementation.md   # å®ç°è¿›åº¦è·Ÿè¸ª
â”œâ”€â”€ decisions.md        # æ¶æ„å†³ç­–è®°å½•ï¼ˆADRï¼‰
â”œâ”€â”€ prompts.md          # å¸¸ç”¨æç¤ºè¯
â”œâ”€â”€ future-work.md      # åç»­å·¥ä½œ
â””â”€â”€ docs/
    â”œâ”€â”€ README.md       # å¸¦æˆªå›¾çš„æ–‡æ¡£
    â””â”€â”€ screenshots/    # æˆªå›¾ç›®å½•
```

---

## implementation.md çŠ¶æ€å€¼

| çŠ¶æ€     | è¯´æ˜               |
| -------- | ------------------ |
| `æœªå¼€å§‹` | åŠŸèƒ½å°šæœªå¼€å§‹å®ç°   |
| `è¿›è¡Œä¸­` | æ­£åœ¨å®ç°ä¸­         |
| `å·²å®Œæˆ` | åŠŸèƒ½å®ç°å®Œæˆ       |
| `å·²æš‚åœ` | ä¸´æ—¶æš‚åœï¼Œæœ‰é˜»å¡é¡¹ |
| `å·²åºŸå¼ƒ` | ä¸å†è®¡åˆ’å®ç°       |

---

## æœ€ä½³å®è·µ

1. **å¼€å§‹æ–°åŠŸèƒ½å‰**ï¼šå…ˆç”¨ `/spec new` åˆ›å»º spec
2. **å®ç°è¿‡ç¨‹ä¸­**ï¼šå®šæœŸæ›´æ–° `implementation.md`
3. **åšæŠ€æœ¯å†³ç­–æ—¶**ï¼šè®°å½•åˆ° `decisions.md`
4. **åŠŸèƒ½å®Œæˆå**ï¼šç”¨ `/spec docs` ç”Ÿæˆæ–‡æ¡£
5. **æ–°ä¼šè¯å¼€å§‹æ—¶**ï¼šç”¨ `/spec continue` æ¢å¤ä¸Šä¸‹æ–‡

---

## é”™è¯¯å¤„ç†

| é”™è¯¯            | å¤„ç†æ–¹å¼                  |
| --------------- | ------------------------- |
| Spec ç›®å½•ä¸å­˜åœ¨ | æç¤ºä½¿ç”¨ `/spec new` åˆ›å»º |
| åŠŸèƒ½åç§°æœªæä¾›  | æç¤ºç”¨æˆ·è¾“å…¥åŠŸèƒ½åç§°      |
| design.md ä¸ºç©º  | å¼•å¯¼ç”¨æˆ·å¡«å†™è®¾è®¡å†…å®¹      |
| æ— æ³•è®¿é—®åº”ç”¨    | æç¤ºå…ˆå¯åŠ¨åº”ç”¨å†ç”Ÿæˆæ–‡æ¡£  |

---

## ç¤ºä¾‹ä¼šè¯

### ç¤ºä¾‹ 1: åˆ›å»ºæ–°åŠŸèƒ½

```
ç”¨æˆ·: /spec new user-profile

[spec] åˆ›å»ºæ–°åŠŸèƒ½ spec: user-profile
[spec] ç›®å½•å·²åˆ›å»º: specs/user-profile/
[spec]
[spec] è¯·æè¿°è¯¥åŠŸèƒ½è¦å®ç°ä»€ä¹ˆï¼Ÿ
ç”¨æˆ·: ç”¨æˆ·å¯ä»¥æŸ¥çœ‹å’Œç¼–è¾‘è‡ªå·±çš„ä¸ªäººèµ„æ–™ï¼ŒåŒ…æ‹¬å¤´åƒã€æ˜µç§°ã€ä¸ªäººç®€ä»‹

[spec] å·²æ›´æ–° design.md
[spec]
[spec] æ¥ä¸‹æ¥è¯·æè¿°ï¼š
[spec] 1. è¿™ä¸ªåŠŸèƒ½è§£å†³ä»€ä¹ˆé—®é¢˜ï¼Ÿ
[spec] 2. æœ‰å“ªäº›ç”¨æˆ·æ•…äº‹ï¼Ÿ
[spec] 3. æŠ€æœ¯è®¾è®¡è¦ç‚¹ï¼Ÿ
```

### ç¤ºä¾‹ 2: åŒæ­¥å·²å®ç°åŠŸèƒ½

```
ç”¨æˆ·: /spec sync nestjs-better-auth

[spec] åŒæ­¥åŠŸèƒ½: nestjs-better-auth
[spec] åˆ†æä»£ç : libs/auth/nestjs-better-auth/src/
[spec]
[spec] å‘ç°æ¨¡å—:
  - AuthModule (åŠ¨æ€æ¨¡å—)
  - AuthGuard (å…¨å±€å®ˆå«)
  - AuthService (è®¤è¯æœåŠ¡)
  - è£…é¥°å™¨: @AllowAnonymous, @OptionalAuth, @Roles, @OrgRoles, @Session
  - é’©å­ç³»ç»Ÿ: @Hook, @BeforeHook, @AfterHook
[spec]
[spec] æ›´æ–° implementation.md...
[spec] ç”Ÿæˆ decisions.md (4 ä¸ª ADR)...
[spec] åŒæ­¥å®Œæˆ
```

### ç¤ºä¾‹ 3: ç»§ç»­å¼€å‘

```
ç”¨æˆ·: /spec continue user-profile

[spec] ç»§ç»­å¼€å‘: user-profile
[spec]
[spec] ğŸ“‹ çŠ¶æ€: è¿›è¡Œä¸­
[spec]
[spec] âœ… å·²å®Œæˆ:
  - ç”¨æˆ·èµ„æ–™æ•°æ®æ¨¡å‹
  - API è·¯ç”±è®¾è®¡
[spec]
[spec] ğŸ”„ è¿›è¡Œä¸­:
  - å‰ç«¯ç»„ä»¶å¼€å‘
[spec]
[spec] ğŸ“ ä¸‹ä¸€æ­¥:
  1. å®Œæˆç”¨æˆ·èµ„æ–™è¡¨å•ç»„ä»¶
  2. æ·»åŠ å¤´åƒä¸Šä¼ åŠŸèƒ½
[spec]
[spec] æ˜¯å¦ç»§ç»­ç¬¬ 1 æ­¥ï¼Ÿ(y/n)
ç”¨æˆ·: y

[spec] å¼€å§‹: å®Œæˆç”¨æˆ·èµ„æ–™è¡¨å•ç»„ä»¶
[spec] è¯·å…ˆé˜…è¯» specs/user-profile/design.md äº†è§£è®¾è®¡è¦æ±‚
```
